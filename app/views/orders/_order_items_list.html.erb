<div class="space-y-4">
  <% order.order_items.each do |item| %>
    <div class="flex items-center gap-4">
      <div class="<%= local_assigns[:compact] ? 'w-16 h-16' : 'w-20 h-20' %> <%= coffee_gradient_class(order.order_items.index(item)) %> rounded-lg flex items-center justify-center flex-shrink-0">
        <svg class="<%= local_assigns[:compact] ? 'w-8 h-8' : 'w-10 h-10' %> text-white" fill="currentColor" viewBox="0 0 20 20">
          <path d="M8 16a2 2 0 002-2H6a2 2 0 002 2zM8 1.918l-.797.161A4.002 4.002 0 003 6c0 .628.134 2.197.459 3.742.16.767.376 1.566.663 2.258h6.756c.287-.692.502-1.49.663-2.258C12.866 8.197 13 6.628 13 6a4.002 4.002 0 00-4.203-3.92L8 1.917zM14.22 12c.223.447.482.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 111.99 0A5.002 5.002 0 0113 6c0 .88.32 4.2 1.22 6z"/>
        </svg>
      </div>
      <div class="flex-1">
        <h3 class="<%= local_assigns[:compact] ? 'font-semibold' : 'font-bold' %> text-gray-900 <%= local_assigns[:compact] ? '' : 'mb-1' %>"><%= item.coffee_name %></h3>
        <p class="text-sm text-gray-600">
          <%= item.coffee_variant.coffee.roast_type&.titleize || "Medium" %> Roast •
          <%= item.size.titleize %>
          <% unless local_assigns[:compact] %>
            <br>
            <span class="text-gray-500 mt-1">Quantity: <%= item.quantity %></span>
          <% else %>
            • Qty: <%= item.quantity %>
          <% end %>
        </p>
      </div>
      <div class="text-right">
        <% unless local_assigns[:compact] %>
          <p class="text-sm text-gray-500">$<%= number_with_precision(item.price, precision: 2) %> each</p>
        <% end %>
        <p class="<%= local_assigns[:compact] ? 'font-semibold' : 'text-lg font-bold' %> text-<%= local_assigns[:compact] ? 'gray-900' : 'amber-600' %>">$<%= number_with_precision(item.subtotal, precision: 2) %></p>
      </div>
    </div>
  <% end %>
</div>
